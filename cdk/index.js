"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const aws_cdk_lib_1 = require("aws-cdk-lib");
const s3_static_site_with_cloudfront_1 = require("./stacks/s3-static-site-with-cloudfront");
const statemachine_1 = require("./stacks/statemachine");
const oidcrole_1 = require("./stacks/oidcrole");
const app = new aws_cdk_lib_1.App();
new s3_static_site_with_cloudfront_1.StaticSite(app, "site", {
    env: {
        account: app.node.tryGetContext("account"),
        region: app.node.tryGetContext("region"),
    },
    domainName: "2024.lincolnhack.org",
    hostedZoneId: "Z084830024CM67I9CAD70",
});
new statemachine_1.StateMachineStack(app, "StateMachine", {
    env: {
        account: app.node.tryGetContext("account"),
        region: app.node.tryGetContext("region"),
    },
    domainName: "2024.lincolnhack.org",
    hostedZoneId: "Z084830024CM67I9CAD70",
});
new oidcrole_1.default(app, "OidcConnection", {
    env: {
        account: app.node.tryGetContext("account"),
        region: app.node.tryGetContext("region"),
    },
    oidcProviderUrl: "https://token.actions.githubusercontent.com",
    clientIds: ["sts.amazonaws.com"],
    thumbprints: ["a031c46782e6e6c662c2c87c76da9aa62ccabd8e"],
    repositoryConfig: [
        { owner: "sdh100shaun", repo: "lincolnhack2024", filter: "main" },
    ],
});
app.synth();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDZDQUFrQztBQUNsQyw0RkFBcUU7QUFDckUsd0RBQTBEO0FBQzFELGdEQUErQztBQUUvQyxNQUFNLEdBQUcsR0FBRyxJQUFJLGlCQUFHLEVBQUUsQ0FBQztBQUd0QixJQUFJLDJDQUFVLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRTtJQUMxQixHQUFHLEVBQUU7UUFDSCxPQUFPLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDO1FBQzFDLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7S0FDekM7SUFDRCxVQUFVLEVBQUUsc0JBQXNCO0lBQ2xDLFlBQVksRUFBRSx1QkFBdUI7Q0FDdEMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxnQ0FBaUIsQ0FBQyxHQUFHLEVBQUUsY0FBYyxFQUFFO0lBQ3ZDLEdBQUcsRUFBRTtRQUNELE9BQU8sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUM7UUFDMUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztLQUMzQztJQUNELFVBQVUsRUFBRSxzQkFBc0I7SUFDbEMsWUFBWSxFQUFFLHVCQUF1QjtDQUN4QyxDQUFDLENBQUM7QUFFSCxJQUFJLGtCQUFjLENBQUMsR0FBRyxFQUFFLGdCQUFnQixFQUFFO0lBQ3RDLEdBQUcsRUFBRTtRQUNELE9BQU8sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUM7UUFDMUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztLQUMzQztJQUNELGVBQWUsRUFBRSw2Q0FBNkM7SUFDOUQsU0FBUyxFQUFFLENBQUMsbUJBQW1CLENBQUM7SUFDaEMsV0FBVyxFQUFFLENBQUMsMENBQTBDLENBQUM7SUFDekQsZ0JBQWdCLEVBQUU7UUFDWixFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLGlCQUFpQixFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUU7S0FDbEU7Q0FDRixDQUFDLENBQUM7QUFFVCxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHAgfSBmcm9tICdhd3MtY2RrLWxpYic7XG5pbXBvcnQgeyBTdGF0aWNTaXRlIH0gZnJvbSBcIi4vc3RhY2tzL3MzLXN0YXRpYy1zaXRlLXdpdGgtY2xvdWRmcm9udFwiO1xuaW1wb3J0IHsgU3RhdGVNYWNoaW5lU3RhY2sgfSBmcm9tICcuL3N0YWNrcy9zdGF0ZW1hY2hpbmUnO1xuaW1wb3J0IE9pZGNDb25uZWN0aW9uIGZyb20gJy4vc3RhY2tzL29pZGNyb2xlJztcblxuY29uc3QgYXBwID0gbmV3IEFwcCgpO1xuXG5cbm5ldyBTdGF0aWNTaXRlKGFwcCwgXCJzaXRlXCIsIHtcbiAgZW52OiB7XG4gICAgYWNjb3VudDogYXBwLm5vZGUudHJ5R2V0Q29udGV4dChcImFjY291bnRcIiksXG4gICAgcmVnaW9uOiBhcHAubm9kZS50cnlHZXRDb250ZXh0KFwicmVnaW9uXCIpLFxuICB9LFxuICBkb21haW5OYW1lOiBcIjIwMjQubGluY29sbmhhY2sub3JnXCIsXG4gIGhvc3RlZFpvbmVJZDogXCJaMDg0ODMwMDI0Q002N0k5Q0FENzBcIixcbn0pO1xuXG5uZXcgU3RhdGVNYWNoaW5lU3RhY2soYXBwLCBcIlN0YXRlTWFjaGluZVwiLCB7XG4gICAgZW52OiB7XG4gICAgICAgIGFjY291bnQ6IGFwcC5ub2RlLnRyeUdldENvbnRleHQoXCJhY2NvdW50XCIpLFxuICAgICAgICByZWdpb246IGFwcC5ub2RlLnRyeUdldENvbnRleHQoXCJyZWdpb25cIiksXG4gICAgfSxcbiAgICBkb21haW5OYW1lOiBcIjIwMjQubGluY29sbmhhY2sub3JnXCIsXG4gICAgaG9zdGVkWm9uZUlkOiBcIlowODQ4MzAwMjRDTTY3STlDQUQ3MFwiLFxufSk7XG5cbm5ldyBPaWRjQ29ubmVjdGlvbihhcHAsIFwiT2lkY0Nvbm5lY3Rpb25cIiwge1xuICAgIGVudjoge1xuICAgICAgICBhY2NvdW50OiBhcHAubm9kZS50cnlHZXRDb250ZXh0KFwiYWNjb3VudFwiKSxcbiAgICAgICAgcmVnaW9uOiBhcHAubm9kZS50cnlHZXRDb250ZXh0KFwicmVnaW9uXCIpLFxuICAgIH0sXG4gICAgb2lkY1Byb3ZpZGVyVXJsOiBcImh0dHBzOi8vdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb21cIixcbiAgICBjbGllbnRJZHM6IFtcInN0cy5hbWF6b25hd3MuY29tXCJdLFxuICAgIHRodW1icHJpbnRzOiBbXCJhMDMxYzQ2NzgyZTZlNmM2NjJjMmM4N2M3NmRhOWFhNjJjY2FiZDhlXCJdLFxuICAgIHJlcG9zaXRvcnlDb25maWc6IFtcbiAgICAgICAgICB7IG93bmVyOiBcInNkaDEwMHNoYXVuXCIsIHJlcG86IFwibGluY29sbmhhY2syMDI0XCIsIGZpbHRlcjogXCJtYWluXCIgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuXG5hcHAuc3ludGgoKTsiXX0=